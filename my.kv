
#:include src/kv_files/main_scene.kv
#:include src/kv_files/history_scene.kv
#:include src/kv_files/setting_scene.kv

Root:
    orientation: 'vertical'

    screen_manager: screen_manager

    MDToolbar:
        title: screen_manager.current # todo adapt color dynamically.
        md_bg_color: [0.2, 0.2, 0.2, 1] if app.theme_cls.theme_style == 'Dark' else [0, 0.7, 1, 1]

        MDIconButton:
            icon: 'coins'
            theme_text_color: 'Primary' if screen_manager.current == 'deposit' else 'Hint'
            on_release:
                screen_manager.transition.direction = 'right'
                screen_manager.current = 'deposit'
            pos_hint: {"center_y": .5}

        MDIconButton:
            icon: 'coin'
            theme_text_color: 'Primary' if screen_manager.current == 'main' else 'Hint'
            on_release:
                screen_manager.transition.direction = 'right' if screen_manager.current == 'setting' else 'left'
                screen_manager.current = 'main'
            pos_hint: {"center_y": .5}

        MDIconButton:
            icon: 'cogs'
            theme_text_color: 'Primary' if screen_manager.current == 'setting' else 'Hint'
            on_release:
                screen_manager.transition.direction = 'left'
                screen_manager.current = 'setting'
            pos_hint: {"center_y": .5}

    ScreenManager
        id: screen_manager
        MainScene:
        HistoryScene:
        SettingScene:
